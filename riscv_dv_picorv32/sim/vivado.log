#-----------------------------------------------------------
# Vivado v2024.2 (64-bit)
# SW Build 5239630 on Fri Nov 08 22:35:27 MST 2024
# IP Build 5239520 on Sun Nov 10 16:12:51 MST 2024
# SharedData Build 5239561 on Fri Nov 08 14:39:27 MST 2024
# Start of session at: Sun Dec  7 22:51:04 2025
# Process ID         : 13216
# Current directory  : D:/SoC_1/riscv_dv_picorv32/sim
# Command line       : vivado.exe -mode batch -source run_arithmetic_verbose.tcl
# Log file           : D:/SoC_1/riscv_dv_picorv32/sim/vivado.log
# Journal file       : D:/SoC_1/riscv_dv_picorv32/sim\vivado.jou
# Running On         : LAPTOP-EL8HLND8
# Platform           : Windows Server 2016 or Windows 10
# Operating System   : 22631
# Processor Detail   : Intel(R) Core(TM) i5-1035G1 CPU @ 1.00GHz
# CPU Frequency      : 1190 MHz
# CPU Physical cores : 4
# CPU Logical cores  : 8
# Host memory        : 16946 MB
# Swap memory        : 3623 MB
# Total Virtual      : 20570 MB
# Available Virtual  : 5683 MB
#-----------------------------------------------------------
source run_arithmetic_verbose.tcl
# create_project -force arith_verbose ./arith_verbose_sim -part xc7a100tcsg324-1
# set_property target_language Verilog [current_project]
# add_files -norecurse ../../picorv32/picorv32.v
# set tb_file "../tb/run_arithmetic_test.sv"
# if {[file exists $tb_file]} {
#     add_files -norecurse $tb_file
#     puts "✅ Testbench added: $tb_file"
# } else {
#     puts "❌ ERROR: Testbench not found: $tb_file"
#     exit 1
# }
✅ Testbench added: ../tb/run_arithmetic_test.sv
# set_property top run_arithmetic_test [get_filesets sources_1]
# set_property top run_arithmetic_test [get_filesets sim_1]
# update_compile_order -fileset sources_1
# puts "Starting arithmetic test simulation..."
Starting arithmetic test simulation...
# launch_simulation
Command: launch_simulation 
INFO: [Vivado 12-12493] Simulation top is 'run_arithmetic_test'
WARNING: [Vivado 12-13340] Unable to auto find GCC executables from simulator install path! (path not set)
INFO: [Vivado 12-5682] Launching behavioral simulation in 'D:/SoC_1/riscv_dv_picorv32/sim/arith_verbose_sim/arith_verbose.sim/sim_1/behav/xsim'
INFO: [SIM-utils-51] Simulation object is 'sim_1'
INFO: [SIM-utils-72] Using boost library from 'D:/Xilinx_main/Vivado/2024.2/tps/boost_1_72_0'
INFO: [SIM-utils-54] Inspecting design source files for 'run_arithmetic_test' in fileset 'sim_1'...
INFO: [USF-XSim-97] Finding global include files...
INFO: [USF-XSim-98] Fetching design files from 'sim_1'...
INFO: [USF-XSim-2] XSim::Compile design
INFO: [USF-XSim-61] Executing 'COMPILE and ANALYZE' step in 'D:/SoC_1/riscv_dv_picorv32/sim/arith_verbose_sim/arith_verbose.sim/sim_1/behav/xsim'
"xvlog --incr --relax -L uvm -prj run_arithmetic_test_vlog.prj"
INFO: [VRFC 10-2263] Analyzing Verilog file "D:/SoC_1/picorv32/picorv32.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module picorv32
INFO: [VRFC 10-311] analyzing module picorv32_regs
INFO: [VRFC 10-311] analyzing module picorv32_pcpi_mul
INFO: [VRFC 10-311] analyzing module picorv32_pcpi_fast_mul
INFO: [VRFC 10-311] analyzing module picorv32_pcpi_div
INFO: [VRFC 10-311] analyzing module picorv32_axi
INFO: [VRFC 10-311] analyzing module picorv32_axi_adapter
INFO: [VRFC 10-311] analyzing module picorv32_wb
INFO: [VRFC 10-2263] Analyzing SystemVerilog file "D:/SoC_1/riscv_dv_picorv32/tb/run_arithmetic_test.sv" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module run_arithmetic_test
INFO: [VRFC 10-2263] Analyzing Verilog file "D:/SoC_1/riscv_dv_picorv32/sim/arith_verbose_sim/arith_verbose.sim/sim_1/behav/xsim/glbl.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module glbl
INFO: [USF-XSim-69] 'compile' step finished in '2' seconds
INFO: [USF-XSim-3] XSim::Elaborate design
INFO: [USF-XSim-61] Executing 'ELABORATE' step in 'D:/SoC_1/riscv_dv_picorv32/sim/arith_verbose_sim/arith_verbose.sim/sim_1/behav/xsim'
"xelab --incr --debug typical --relax --mt 2 -L xil_defaultlib -L uvm -L unisims_ver -L unimacro_ver -L secureip --snapshot run_arithmetic_test_behav xil_defaultlib.run_arithmetic_test xil_defaultlib.glbl -log elaborate.log"
Vivado Simulator v2024.2.0
Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.
Running: D:/Xilinx_main/Vivado/2024.2/bin/unwrapped/win64.o/xelab.exe --incr --debug typical --relax --mt 2 -L xil_defaultlib -L uvm -L unisims_ver -L unimacro_ver -L secureip --snapshot run_arithmetic_test_behav xil_defaultlib.run_arithmetic_test xil_defaultlib.glbl -log elaborate.log 
Using 2 slave threads.
Starting static elaboration
Pass Through NonSizing Optimizer
Completed static elaboration
Starting simulation data flow analysis
WARNING: [XSIM 43-4100] "D:/SoC_1/picorv32/picorv32.v" Line 62. Module picorv32(ENABLE_MUL=1'b1,ENABLE_DIV=1'b1) has a timescale but at least one module in design doesn't have timescale.
WARNING: [XSIM 43-4100] "D:/SoC_1/picorv32/picorv32.v" Line 2197. Module picorv32_pcpi_mul has a timescale but at least one module in design doesn't have timescale.
WARNING: [XSIM 43-4100] "D:/SoC_1/picorv32/picorv32.v" Line 2420. Module picorv32_pcpi_div has a timescale but at least one module in design doesn't have timescale.
WARNING: [XSIM 43-4100] "D:/SoC_1/picorv32/picorv32.v" Line 62. Module picorv32(ENABLE_MUL=1'b1,ENABLE_DIV=1'b1) has a timescale but at least one module in design doesn't have timescale.
WARNING: [XSIM 43-4100] "D:/SoC_1/picorv32/picorv32.v" Line 2197. Module picorv32_pcpi_mul has a timescale but at least one module in design doesn't have timescale.
WARNING: [XSIM 43-4100] "D:/SoC_1/picorv32/picorv32.v" Line 2420. Module picorv32_pcpi_div has a timescale but at least one module in design doesn't have timescale.
WARNING: [XSIM 43-4100] "D:/SoC_1/riscv_dv_picorv32/sim/arith_verbose_sim/arith_verbose.sim/sim_1/behav/xsim/glbl.v" Line 6. Module glbl has a timescale but at least one module in design doesn't have timescale.
WARNING: [XSIM 43-4100] "D:/SoC_1/riscv_dv_picorv32/sim/arith_verbose_sim/arith_verbose.sim/sim_1/behav/xsim/glbl.v" Line 6. Module glbl has a timescale but at least one module in design doesn't have timescale.
Completed simulation data flow analysis
Time Resolution for simulation is 1ps
Compiling module xil_defaultlib.picorv32_pcpi_mul
Compiling module xil_defaultlib.picorv32_pcpi_div
Compiling module xil_defaultlib.picorv32(ENABLE_MUL=1'b1,ENABLE_...
Compiling module xil_defaultlib.run_arithmetic_test
Compiling module xil_defaultlib.glbl
Built simulation snapshot run_arithmetic_test_behav
INFO: [USF-XSim-69] 'elaborate' step finished in '4' seconds
INFO: [USF-XSim-4] XSim::Simulate design
INFO: [USF-XSim-61] Executing 'SIMULATE' step in 'D:/SoC_1/riscv_dv_picorv32/sim/arith_verbose_sim/arith_verbose.sim/sim_1/behav/xsim'
INFO: [USF-XSim-98] *** Running xsim
   with args "run_arithmetic_test_behav -key {Behavioral:sim_1:Functional:run_arithmetic_test} -tclbatch {run_arithmetic_test.tcl} -log {simulate.log}"
INFO: [USF-XSim-8] Loading simulator feature
Time resolution is 1 ps
source run_arithmetic_test.tcl
## set curr_wave [current_wave_config]
## if { [string length $curr_wave] == 0 } {
##   if { [llength [get_objects]] > 0} {
##     add_wave /
##     set_property needs_save false [current_wave_config]
##   } else {
##      send_msg_id Add_Wave-1 WARNING "No top level signals found. Simulator will start without a wave window. If you want to open a wave window go to 'File->New Waveform Configuration' or type 'create_wave_config' in the TCL console."
##   }
## }
## run 1000ns
=========================================
Starting PicoRV32 Arithmetic Test
=========================================
[0] Applying reset...
[100000] Releasing reset...
[100000] Starting test execution...
[125000] PC=00000000, Instr=00100093
[165000] PC=00000004, Instr=00200113
[205000] PC=00000008, Instr=00300193
[245000] PC=0000000c, Instr=00400213
[285000] PC=00000010, Instr=002080b3
[325000] PC=00000014, Instr=00310133
[365000] PC=00000018, Instr=404181b3
[405000] PC=0000001c, Instr=40520233
[445000] PC=00000020, Instr=0020e0b3
[485000] PC=00000024, Instr=00117133
[525000] PC=00000028, Instr=0031c1b3
[565000] PC=0000002c, Instr=00109293
[605000] PC=00000030, Instr=40125313
[655000] PC=00000034, Instr=000012b7
[705000] PC=00000038, Instr=00028293
[745000] PC=0000003c, Instr=0012a023
[785000] PC=00000040, Instr=0022a423
[815000] ERROR: Memory access out of bounds: 00001000
[855000] PC=00000044, Instr=0032a823
[885000] ERROR: Memory access out of bounds: 00001008
[925000] PC=00000048, Instr=0042ac23
[955000] ERROR: Memory access out of bounds: 00001010
[995000] PC=0000004c, Instr=0052a023
INFO: [USF-XSim-96] XSim completed. Design snapshot 'run_arithmetic_test_behav' loaded.
INFO: [USF-XSim-97] XSim simulation ran for 1000ns
launch_simulation: Time (s): cpu = 00:00:00 ; elapsed = 00:00:09 . Memory (MB): peak = 377.406 ; gain = 10.457
# run 300us
[1025000] ERROR: Memory access out of bounds: 00001018
[1065000] PC=00000050, Instr=0062a423
[1095000] ERROR: Memory access out of bounds: 00001000
[1135000] PC=00000054, Instr=123453b7
[1165000] ERROR: Memory access out of bounds: 00001008
[1205000] PC=00000058, Instr=67838393
[1245000] PC=0000005c, Instr=00702023
[1285000] PC=00000060, Instr=00000063
[1325000] Writing to address 0: 12345678 (Success code)
[1355000] PC=00000064, Instr=00000013
[1355000] Reached infinite loop - test program completed
[1385000] PC=00000060, Instr=00000063
[1425000] PC=00000064, Instr=00000013
[1455000] PC=00000060, Instr=00000063
[1495000] PC=00000064, Instr=00000013

=========================================
Test Results Verification
=========================================
✅ SUCCESS: Arithmetic test completed!
   Success code 0x12345678 found at address 0

Stored Results at 0x2000:
0x2000: 00000013 (x1 should be 7)
0x2008: 00000013 (x2 should be 5)
0x2010: 00000013 (x3 should be 0)
0x2018: 00000013 (x4 should be ffffffff)

Program Counter at end: 00000060
Instructions executed: 133

=========================================
Test Complete
Errors detected: 0
=========================================
✅ ALL TESTS PASSED!
$finish called at time : 5100 ns : File "D:/SoC_1/riscv_dv_picorv32/tb/run_arithmetic_test.sv" Line 193
# close_sim
INFO: [Simtcl 6-16] Simulation closed
# exit 0
INFO: [Common 17-206] Exiting Vivado at Sun Dec  7 22:51:21 2025...
